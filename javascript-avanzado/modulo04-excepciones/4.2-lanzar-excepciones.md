# 4.2 Lanzar nuestras propias excepciones (`throw`)

## ğŸ’¥ Â¿Por quÃ© lanzar errores propios?

A veces no basta con capturar errores: tambiÃ©n queremos **generarlos** cuando algo va mal en nuestro cÃ³digo. Para eso usamos `throw`.

Lanzar un error:

* Detiene la ejecuciÃ³n normal
* Permite avisar que algo saliÃ³ mal
* Obliga a quien usa nuestra funciÃ³n a gestionarlo

---

## âœ… Sintaxis bÃ¡sica

```js
throw "Algo fue mal";         // âŒ No recomendado (lanza un string)
throw new Error("Fallo X");   // âœ… Correcto
```

---

## ğŸ¯ Ejemplo bÃ¡sico

```js
function dividir(a, b) {
  if (b === 0) {
    throw new Error("No se puede dividir por cero");
  }
  return a / b;
}

dividir(4, 2); // 2
dividir(4, 0); // ğŸ’¥ Error
```

---

## ğŸ˜ Usar try/catch con throw

```js
try {
  dividir(4, 0);
} catch (error) {
  console.log("Error capturado:", error.message);
}
```

---

## ğŸ§± Tipos de errores personalizados

Puedes lanzar tipos diferentes segÃºn el caso:

```js
throw new TypeError("Tipo incorrecto");
throw new RangeError("Valor fuera de rango");
throw new SyntaxError("Formato invÃ¡lido");
```

---

# ğŸ›  Laboratorio

## ğŸ¯ Objetivos

* Lanzar errores de forma manual
* Validar argumentos de entrada
* Entender el mensaje del error

---

### Ejercicio 1 â€” Validar parÃ¡metros

Lanza un error si el usuario no pasa un nÃºmero vÃ¡lido.

```js
function cuadrado(n) {
  if (typeof n !== "number") {
    throw new TypeError("El parÃ¡metro debe ser un nÃºmero");
  }
  return n * n;
}
```

---

### Ejercicio 2 â€” Validar cadena

Exige que el nombre no estÃ© vacÃ­o.

```js
function setNombre(nombre) {
  if (!nombre) {
    throw new Error("El nombre es obligatorio");
  }
  return `Nombre guardado: ${nombre}`;
}
```

---

### Ejercicio 3 â€” Validar rango

Una edad vÃ¡lida debe estar entre 0 y 120.

```js
function validarEdad(edad) {
  if (edad < 0 || edad > 120) {
    throw new RangeError("Edad fuera de rango");
  }
  return "Edad correcta";
}
```

---

### Ejercicio 4 â€” FunciÃ³n robusta con try/catch + throw

```js
function dividir(a, b) {
  if (typeof a !== "number" || typeof b !== "number") {
    throw new TypeError("Los parÃ¡metros deben ser nÃºmeros");
  }
  if (b === 0) {
    throw new Error("No se puede dividir entre cero");
  }
  return a / b;
}

try {
  console.log(dividir(10, 2)); // 5
  console.log(dividir("10", 2)); // error
} catch (error) {
  console.log("OcurriÃ³ un problema:", error.message);
}
```

---

## ğŸš€ Retos

1. Crea una funciÃ³n `login(usuario, contraseÃ±a)` que lance errores si:

   * usuario o contraseÃ±a estÃ¡n vacÃ­os
   * usuario tiene menos de 3 caracteres
2. Crea `calcularArea(radio)` y lanza error si el radio no es positivo.
3. Haz una funciÃ³n `parsearJSON(texto)` que:

   * use JSON.parse
   * capture errores
   * si falla, lance un nuevo error explicando quÃ© pasÃ³