# 8.2 Constructores

## ðŸ—ï¸ Â¿QuÃ© es un constructor?

Un **constructor** es una funciÃ³n especial que sirve como **plantilla para crear objetos**.
En JavaScript tradicional (antes de `class`), se usaban **funciones constructoras** con `new`.

---

## âœ… Sintaxis base

```js
function Persona(nombre, edad) {
  this.nombre = nombre;
  this.edad = edad;
}

const p1 = new Persona("Ada", 36);
const p2 = new Persona("Alan", 40);

console.log(p1.nombre); // Ada
console.log(p2.nombre); // Alan
```

---

## âš ï¸ Importante: usar siempre `new`

Si olvidas `new`, `this` no apuntarÃ¡ bien y puede causar errores.

```js
const p = Persona("Ada", 36); // âŒ MAL, sin new
```

---

## âž• AÃ±adiendo mÃ©todos al constructor

```js
function Persona(nombre, edad) {
  this.nombre = nombre;
  this.edad = edad;
  this.saludar = function () {
    return "Hola, soy " + this.nombre;
  };
}

const p = new Persona("Ada", 36);
console.log(p.saludar());
```

---

## ðŸ”§ Constructor para objetos complejos

```js
function Coche(marca, modelo, aÃ±o) {
  this.marca = marca;
  this.modelo = modelo;
  this.aÃ±o = aÃ±o;
  this.encendido = false;
  this.encender = function () {
    this.encendido = true;
  };
}
```

---

## âš™ï¸ Crear varios objetos fÃ¡cilmente

Un constructor permite crear objetos como una fÃ¡brica:

```js
const c1 = new Coche("Toyota", "Corolla", 2020);
const c2 = new Coche("Ford", "Focus", 2018);
```

---

# ðŸ›  Laboratorio

## ðŸŽ¯ Objetivos

* Crear funciones constructoras
* Usar `new` correctamente
* AÃ±adir mÃ©todos dentro del constructor
* Crear mÃºltiples instancias

---

### Ejercicio 1 â€” Tu primer constructor

Crea un constructor `Animal(nombre, tipo)` que guarde esas propiedades.

```js
function Animal(nombre, tipo) {
  this.nombre = nombre;
  this.tipo = tipo;
}
const a = new Animal("Toby", "Perro");
```

---

### Ejercicio 2 â€” MÃ©todo dentro del constructor

AÃ±ade un mÃ©todo `presentar()` al objeto creado.

```js
this.presentar = function () {
  return `Soy un ${this.tipo} y me llamo ${this.nombre}`;
};
```

---

### Ejercicio 3 â€” Varias instancias

Crea 3 animales distintos usando el constructor y guÃ¡rdalos en un array.

```js
const mascotas = [
  new Animal("Max", "Perro"),
  new Animal("Luna", "Gato"),
  new Animal("Nemo", "Pez")
];
```

---

### Ejercicio 4 â€” Constructor con lÃ³gica

Haz un constructor `Producto(nombre, precio)` que solo acepte precio > 0, si no lanza error.

```js
function Producto(nombre, precio) {
  if (precio <= 0) throw new Error("Precio invÃ¡lido");
  this.nombre = nombre;
  this.precio = precio;
}
```

---

### Ejercicio 5 â€” Propiedades por defecto

AÃ±ade una propiedad `stock` que sea 0 por defecto si no se pasa valor.

```js
function Producto(nombre, precio, stock = 0) {
  this.nombre = nombre;
  this.precio = precio;
  this.stock = stock;
}
```

---

## ðŸš€ Retos

1. Crea un constructor `Rectangulo(ancho, alto)` con mÃ©todo `area()`.
2. Crea `CuentaBancaria(titular, saldo)` con mÃ©todos `depositar` y `retirar` (sin permitir saldo negativo).
3. Crea `Libro(titulo, autor, paginas)` y mÃ©todo `descripcion()` que devuelva â€œ___ de ___ con ___ pÃ¡ginasâ€.