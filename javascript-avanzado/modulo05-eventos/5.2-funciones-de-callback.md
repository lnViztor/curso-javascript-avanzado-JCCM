# 5.2 Funciones de Callback

## ðŸ¤” Â¿QuÃ© es un callback?

Un **callback** es una funciÃ³n que se pasa como argumento a otra funciÃ³n y se ejecuta despuÃ©s, cuando sea necesario. Muy tÃ­pico en JavaScript para **manejar eventos, temporizadores y asincronÃ­a**.

ðŸ‘‰ En resumen:
**Un callback es una funciÃ³n que llamas mÃ¡s tarde, no ahora.**

---

## âœ… Ejemplo bÃ¡sico

```js
function saludar() {
  console.log("Hola");
}

function ejecutarDespues(callback) {
  console.log("Antes");
  callback(); // llamamos al callback
}

ejecutarDespues(saludar);
// Antes
// Hola
```

---

## ðŸ”§ Callback como funciÃ³n anÃ³nima

```js
function operar(a, b, callback) {
  return callback(a, b);
}

operar(3, 4, function(x, y) {
  return x + y;
}); // 7
```

---

## âš¡ Arrow function como callback

```js
operar(5, 3, (x, y) => x * y); // 15
```

---

## â³ Los callbacks se usan mucho con asincronÃ­a

```js
console.log("Inicio");

setTimeout(() => {
  console.log("Esto se ejecuta despuÃ©s de 2 segundos");
}, 2000);

console.log("Fin");
```

---

## ðŸŽ¯ Eventos = callbacks

Cuando usas eventos, estÃ¡s usando callbacks sin darte cuenta:

```js
boton.addEventListener("click", () => {
  console.log("Click detectado");
});
```

---

# ðŸ›  Laboratorio

## ðŸŽ¯ Objetivos

* Entender cÃ³mo se pasa una funciÃ³n como parÃ¡metro
* Usar callbacks en funciones propias
* Aplicarlos en eventos del DOM y asincronÃ­a

---

### Ejercicio 1 â€” Crear tu primer callback

Crea una funciÃ³n que reciba tu nombre y una funciÃ³n callback para saludar.

```js
function procesarNombre(nombre, callback) {
  callback(nombre);
}

procesarNombre("Ada", function(n) {
  console.log("Hola " + n);
});
```

---

### Ejercicio 2 â€” Operaciones matemÃ¡ticas con callback

Haz una funciÃ³n que acepte una operaciÃ³n como callback.

```js
function calcular(a, b, callback) {
  return callback(a, b);
}

calcular(5, 2, (x, y) => x + y); // 7
calcular(5, 2, (x, y) => x * y); // 10
```

---

### Ejercicio 3 â€” Callback en eventos

Haz que un botÃ³n cambie el color del fondo usando un callback.

```js
function cambiarColor(color) {
  document.body.style.backgroundColor = color;
}

boton.addEventListener("click", () => cambiarColor("lightblue"));
```

---

### Ejercicio 4 â€” Simular asincronÃ­a

Muestra un mensaje 1 segundo despuÃ©s.

```js
function despues(callback) {
  setTimeout(callback, 1000);
}

despues(() => console.log("Han pasado 1 segundo"));
```

---

### Ejercicio 5 â€” Callback con validaciÃ³n

Haz que una funciÃ³n valide si un nÃºmero es par antes de ejecutar otra funciÃ³n.

```js
function siEsPar(numero, callback) {
  if (numero % 2 === 0) {
    callback(numero);
  } else {
    console.log("No es par");
  }
}

siEsPar(4, n => console.log(n + " es par")); // 4 es par
```

---

## ðŸš€ Retos

1. Crea una funciÃ³n `repetir(n, callback)` que ejecute el callback n veces.
2. Haz `leerUsuario(callback)` que pida un nombre con prompt y lo pase al callback.
3. Crea un "delay" personalizado: `esperar(ms, callback)`.