# 10.3 Cuestiones Unicode

## ğŸŒ Â¿QuÃ© es Unicode?

Unicode es el **estÃ¡ndar universal de codificaciÃ³n de caracteres** que permite representar textos de cualquier idioma:
âœ… EspaÃ±ol con acentos
âœ… Ãrabe, chino, ruso
âœ… SÃ­mbolos matemÃ¡ticos
âœ… Emojis ğŸ˜ğŸ”¥âœ…

JavaScript **usa Unicode internamente**, pero hay detalles importantes que debes conocer para evitar bugs con cadenas de texto.

---

## âš ï¸ Problema clÃ¡sico: caracteres especiales

```js
console.log("canciÃ³n" === "canciÃ³n"); // true (ok)

console.log("Ã¡" === "aÌ"); // false â—
```

Aunque parecen iguales, uno usa **una sola letra acentuada**, y el otro usa **una "a" + un acento** como caracteres separados.

---

## âœ… Normalizar textos

Para comparar correctamente textos Unicode se usa `.normalize()`.

```js
const a = "Ã¡";
const b = "a\u0301"; // "a" + acento
console.log(a === b); // false
console.log(a.normalize() === b.normalize()); // âœ… true
```

---

## ğŸ”¤ Puntos de cÃ³digo Unicode

JavaScript usa UTF-16, lo que causa problemas con emojis o caracteres fuera del BMP (Plano MultilingÃ¼e BÃ¡sico):

```js
"ğŸ˜€".length; // 2 ğŸ˜±
```

El emoji ocupa **dos posiciones** en memoria.

---

## âœ… CÃ³mo detectar correctamente longitud Unicode

```js
Array.from("ğŸ˜€").length; // 1 âœ… bien contado
```

---

## ğŸ“ CodificaciÃ³n en JavaScript

Buenas prÃ¡cticas:

* Siempre guardar archivos en **UTF-8**
* Especificar `<meta charset="UTF-8">` en HTML

```html
<meta charset="UTF-8">
```

---

## ğŸ”’ Escapar caracteres Unicode

```js
"\u00F1"  // Ã±
"\u2764"  // â¤
```

---

## ğŸ” Buscar Unicode con regex

```js
/^\p{Emoji}+$/u.test("ğŸ˜ğŸš€"); // true âœ…
```

> Nota: `\p{...}` solo funciona con bandera **u** (Unicode)

---

# ğŸ›  Laboratorio

## ğŸ¯ Objetivos

* Evitar bugs con Unicode
* Contar correctamente caracteres especiales
* Comparar cadenas con acentos correctamente

---

### Ejercicio 1 â€” DetecciÃ³n de diferencias Unicode

```js
"Ã¡" === "a\u0301"; // false
"Ã¡".normalize() === "a\u0301".normalize(); // true âœ…
```

---

### Ejercicio 2 â€” Contar emojis correctamente

```js
"hola".length;         // 4
"ğŸ˜".length;           // 2 â—
Array.from("ğŸ˜").length; // 1 âœ…
```

---

### Ejercicio 3 â€” Detectar caracteres especiales

```js
/[^\x00-\x7F]/.test("cafÃ©"); // true (contiene acento)
```

---

### Ejercicio 4 â€” Forzar UTF-8 correcto

AÃ±ade en tu HTML:

```html
<meta charset="UTF-8">
```

Evita errores tipo "ÃƒÂ¡" al mostrar acentos.

---

### Ejercicio 5 â€” Regex con Unicode

```js
/^\p{Letter}+$/u.test("maÃ±ana"); // true
```

---

## ğŸš€ Retos

1. Crea una funciÃ³n `normalizarTexto(texto)` que elimine diferencias Unicode.
2. Cuenta correctamente los caracteres reales de cualquier cadena (incluyendo emojis).
3. Detecta si una cadena contiene sÃ­mbolos no latinos (por ejemplo chino o Ã¡rabe).